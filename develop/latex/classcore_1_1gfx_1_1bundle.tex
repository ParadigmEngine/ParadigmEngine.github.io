\hypertarget{classcore_1_1gfx_1_1bundle}{}\doxysection{core\+::gfx\+::bundle Class Reference}
\label{classcore_1_1gfx_1_1bundle}\index{core::gfx::bundle@{core::gfx::bundle}}


{\ttfamily \#include $<$bundle.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a5dbafa6be163c24d57f8f16eb235f5d5}\label{classcore_1_1gfx_1_1bundle_a5dbafa6be163c24d57f8f16eb235f5d5}} 
{\bfseries bundle} (core\+::resource\+::cache\+\_\+t \&cache, const \mbox{\hyperlink{structcore_1_1resource_1_1metadata}{core\+::resource\+::metadata}} \&meta\+Data, \mbox{\hyperlink{classpsl_1_1meta_1_1file}{psl\+::meta\+::file}} $\ast$meta\+File, \mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::buffer\+\_\+t $>$ vertex\+Buffer, \mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::shader\+\_\+buffer\+\_\+binding $>$ material\+Buffer)
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_ab4f229908c86e56601f52e3293a7a081}\label{classcore_1_1gfx_1_1bundle_ab4f229908c86e56601f52e3293a7a081}} 
{\bfseries bundle} (const \mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \&)=delete
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a1bdcc739b813509785c82eaba143fa90}\label{classcore_1_1gfx_1_1bundle_a1bdcc739b813509785c82eaba143fa90}} 
{\bfseries bundle} (\mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \&\&) noexcept=delete
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_ad0e53fe7c5f2af958fd796c6e0682550}\label{classcore_1_1gfx_1_1bundle_ad0e53fe7c5f2af958fd796c6e0682550}} 
\mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \& {\bfseries operator=} (const \mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \&)=delete
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_abc311a8fab1b16c0bcc69a7ed496118c}\label{classcore_1_1gfx_1_1bundle_abc311a8fab1b16c0bcc69a7ed496118c}} 
\mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \& {\bfseries operator=} (\mbox{\hyperlink{classcore_1_1gfx_1_1bundle}{bundle}} \&\&) noexcept=delete
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a8b537d1d8f389ba6508f60cab5cc5347}\label{classcore_1_1gfx_1_1bundle_a8b537d1d8f389ba6508f60cab5cc5347}} 
std\+::optional$<$ \mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::material\+\_\+t $>$ $>$ {\bfseries get} (uint32\+\_\+t renderlayer) const noexcept
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_ae48a9100b0825fd55f1ac1b9bd3a75db}\label{classcore_1_1gfx_1_1bundle_ae48a9100b0825fd55f1ac1b9bd3a75db}} 
bool {\bfseries has} (uint32\+\_\+t renderlayer) const noexcept
\item 
void \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_a74b5fa457993ac6514d9a1d05e1dbe93}{set\+\_\+material}} (\mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::material\+\_\+t $>$ material, std\+::optional$<$ uint32\+\_\+t $>$ render\+\_\+layer\+\_\+override=std\+::nullopt)
\begin{DoxyCompactList}\small\item\em assigns a material to the bundle, with optional render\+\_\+layer \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_accfda78e99d20d100eb0cd4a142294bc}\label{classcore_1_1gfx_1_1bundle_accfda78e99d20d100eb0cd4a142294bc}} 
psl\+::array$<$ uint32\+\_\+t $>$ {\bfseries material\+Indices} (uint32\+\_\+t begin, uint32\+\_\+t end) const noexcept
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_ac1df415a8cb92b185bea3efd8d589ade}\label{classcore_1_1gfx_1_1bundle_ac1df415a8cb92b185bea3efd8d589ade}} 
bool {\bfseries bind\+\_\+material} (uint32\+\_\+t renderlayer) noexcept
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a6780869bcc5c2f3092c5c58c7684f4b5}\label{classcore_1_1gfx_1_1bundle_a6780869bcc5c2f3092c5c58c7684f4b5}} 
\mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::material\+\_\+t $>$ {\bfseries bound} () const noexcept
\item 
uint32\+\_\+t \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_a5fae881382769ecad6e0d9a130399df5}{instances}} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry) const noexcept
\begin{DoxyCompactList}\small\item\em returns the instance count currently used for the given piece of geometry. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a71c4af20ca5d082c4b774979967979e5}\label{classcore_1_1gfx_1_1bundle_a71c4af20ca5d082c4b774979967979e5}} 
std\+::vector$<$ std\+::pair$<$ uint32\+\_\+t, uint32\+\_\+t $>$ $>$ {\bfseries instantiate} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry, uint32\+\_\+t count=1, geometry\+\_\+type type=geometry\+\_\+type\+::\+S\+T\+A\+T\+IC)
\item 
uint32\+\_\+t \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_aba04dfd27354415184063649101f21dc}{size}} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry) const noexcept
\begin{DoxyCompactList}\small\item\em returns how many instances are currently active for the given geometry. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_a9881df7d25823b24f5fafa91ca04f08f}{has}} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry) const noexcept
\begin{DoxyCompactList}\small\item\em returns if there are {\itshape any} active instances for the given geometry. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_ac70777d171058331ef47376935c6d337}{release}} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry, uint32\+\_\+t id) noexcept
\begin{DoxyCompactList}\small\item\em release the instance associated with the given ID and geometry \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_a8c9ffb92c43a14255b715799be07b137}{release\+\_\+all}} (std\+::optional$<$ geometry\+\_\+type $>$ type=\{\}) noexcept
\begin{DoxyCompactList}\small\item\em release all instance data. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\bool \mbox{\hyperlink{classcore_1_1gfx_1_1bundle_a25a25b3f113952ecc8b3d51341953cfb}{set}} (core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$ geometry, uint32\+\_\+t id, psl\+::string\+\_\+view name, const psl\+::array$<$ T $>$ \&values)
\begin{DoxyCompactList}\small\item\em set instance data for the given instance (and range) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a21271d369bc57cbbac1ece32d2653485}\label{classcore_1_1gfx_1_1bundle_a21271d369bc57cbbac1ece32d2653485}} 
{\footnotesize template$<$typename T $>$ }\\bool {\bfseries set} (core\+::resource\+::tag$<$ core\+::gfx\+::material\+\_\+t $>$ material, const T \&value, size\+\_\+t offset=0)
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_af5f22e7a7d8392e91f7007e92541ff51}\label{classcore_1_1gfx_1_1bundle_af5f22e7a7d8392e91f7007e92541ff51}} 
{\footnotesize template$<$typename T $>$ }\\bool {\bfseries set} (core\+::resource\+::tag$<$ core\+::gfx\+::material\+\_\+t $>$ material, psl\+::string\+\_\+view name, const T \&value)
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a6c051e57a9e13bb372e9f7c7e2d749f3}\label{classcore_1_1gfx_1_1bundle_a6c051e57a9e13bb372e9f7c7e2d749f3}} 
{\footnotesize template$<$typename T $>$ }\\bool {\bfseries set} (psl\+::string\+\_\+view name, const T \&value)
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a1b1adc976c31f139b8d950bb7ccb4544}\label{classcore_1_1gfx_1_1bundle_a1b1adc976c31f139b8d950bb7ccb4544}} 
class {\bfseries core\+::ivk\+::drawpass}
\item 
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_acd2398199c243c58ca5210dad75e43a9}\label{classcore_1_1gfx_1_1bundle_acd2398199c243c58ca5210dad75e43a9}} 
class {\bfseries core\+::igles\+::drawpass}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\textbackslash{}detail Bundles acts as a collection of core\+::gfx\+::materials, which are associated with a specific render\+ID (ordered from lowest to highest). These render\+ID\textquotesingle{}s are what core\+::gfx\+::drawpass will use to decide which materials to bind for the current pass when rendering the associated geometry.

Aside from that, bundles also contain the abstraction of instance data associated with a material-\/geometry combination. This allows geometry to share instance related data (such as positions, or colors) across different \textquotesingle{}core\+::gfx\+::material\+\_\+t\textquotesingle{}s and different \textquotesingle{}core\+::gfx\+::pass\textquotesingle{}es. As example sharing instance position data between the depth-\/only prepass, and normal render pass. 

Definition at line 49 of file bundle.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a74b5fa457993ac6514d9a1d05e1dbe93}\label{classcore_1_1gfx_1_1bundle_a74b5fa457993ac6514d9a1d05e1dbe93}} 
\index{core::gfx::bundle@{core::gfx::bundle}!set\_material@{set\_material}}
\index{set\_material@{set\_material}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{set\_material()}{set\_material()}}
{\footnotesize\ttfamily void bundle\+::set\+\_\+material (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcore_1_1resource_1_1handle}{core\+::resource\+::handle}}$<$ core\+::gfx\+::material\+\_\+t $>$}]{material,  }\item[{std\+::optional$<$ uint32\+\_\+t $>$}]{render\+\_\+layer\+\_\+override = {\ttfamily std\+:\+:nullopt} }\end{DoxyParamCaption})}

Assigns a material to this bundle. If no render\+\_\+layer\+\_\+override is provided, the materials default value will be used instead. 

Definition at line 40 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a5fae881382769ecad6e0d9a130399df5}\label{classcore_1_1gfx_1_1bundle_a5fae881382769ecad6e0d9a130399df5}} 
\index{core::gfx::bundle@{core::gfx::bundle}!instances@{instances}}
\index{instances@{instances}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{instances()}{instances()}}
{\footnotesize\ttfamily uint32\+\_\+t bundle\+::instances (\begin{DoxyParamCaption}\item[{core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$}]{geometry }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em geometry} & U\+ID to check \\
\hline
\end{DoxyParams}


Definition at line 95 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_aba04dfd27354415184063649101f21dc}\label{classcore_1_1gfx_1_1bundle_aba04dfd27354415184063649101f21dc}} 
\index{core::gfx::bundle@{core::gfx::bundle}!size@{size}}
\index{size@{size}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily uint32\+\_\+t bundle\+::size (\begin{DoxyParamCaption}\item[{core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$}]{geometry }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em geometry} & U\+ID to check \\
\hline
\end{DoxyParams}


Definition at line 106 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a9881df7d25823b24f5fafa91ca04f08f}\label{classcore_1_1gfx_1_1bundle_a9881df7d25823b24f5fafa91ca04f08f}} 
\index{core::gfx::bundle@{core::gfx::bundle}!has@{has}}
\index{has@{has}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{has()}{has()}}
{\footnotesize\ttfamily bool bundle\+::has (\begin{DoxyParamCaption}\item[{core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$}]{geometry }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em geometry} & U\+ID to check \\
\hline
\end{DoxyParams}


Definition at line 107 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_ac70777d171058331ef47376935c6d337}\label{classcore_1_1gfx_1_1bundle_ac70777d171058331ef47376935c6d337}} 
\index{core::gfx::bundle@{core::gfx::bundle}!release@{release}}
\index{release@{release}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily bool bundle\+::release (\begin{DoxyParamCaption}\item[{core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$}]{geometry,  }\item[{uint32\+\_\+t}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em geometry} & target U\+ID \\
\hline
\mbox{\texttt{ in}}  & {\em id} & instance ID \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true in case the instance was successfully transitioned from active to deactivated. 
\end{DoxyReturn}


Definition at line 109 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a8c9ffb92c43a14255b715799be07b137}\label{classcore_1_1gfx_1_1bundle_a8c9ffb92c43a14255b715799be07b137}} 
\index{core::gfx::bundle@{core::gfx::bundle}!release\_all@{release\_all}}
\index{release\_all@{release\_all}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{release\_all()}{release\_all()}}
{\footnotesize\ttfamily bool bundle\+::release\+\_\+all (\begin{DoxyParamCaption}\item[{std\+::optional$<$ geometry\+\_\+type $>$}]{type = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em type} & optionally target only static or dynamic data \\
\hline
\end{DoxyParams}


Definition at line 114 of file bundle.\+cpp.

\mbox{\Hypertarget{classcore_1_1gfx_1_1bundle_a25a25b3f113952ecc8b3d51341953cfb}\label{classcore_1_1gfx_1_1bundle_a25a25b3f113952ecc8b3d51341953cfb}} 
\index{core::gfx::bundle@{core::gfx::bundle}!set@{set}}
\index{set@{set}!core::gfx::bundle@{core::gfx::bundle}}
\doxysubsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
bool core\+::gfx\+::bundle\+::set (\begin{DoxyParamCaption}\item[{core\+::resource\+::tag$<$ core\+::gfx\+::geometry\+\_\+t $>$}]{geometry,  }\item[{uint32\+\_\+t}]{id,  }\item[{psl\+::string\+\_\+view}]{name,  }\item[{const psl\+::array$<$ T $>$ \&}]{values }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em geometry} & target U\+ID \\
\hline
\mbox{\texttt{ in}}  & {\em id} & first instance ID \\
\hline
\mbox{\texttt{ in}}  & {\em name} & name of the buffer (present in the shader) \\
\hline
\mbox{\texttt{ in}}  & {\em values} & the values to set, where the size + id indicates the end of the range \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the geometry was found, all instances were present, and the upload dispatched. The upload is async. 
\end{DoxyReturn}


Definition at line 129 of file bundle.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/paradigm/paradigm/core/inc/gfx/bundle.\+hpp\item 
/home/runner/work/paradigm/paradigm/core/src/gfx/bundle.\+cpp\end{DoxyCompactItemize}
